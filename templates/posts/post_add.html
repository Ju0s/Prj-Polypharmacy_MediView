{% load static %}
<script src='https://cdn.tailwindcss.com'></script>
<div class="flex h-screen w-full flex-col">
    <header class="flex h-16 w-full items-center justify-between bg-[#4f46e5] px-6 dark:bg-[#1e293b]">
        <div class="flex items-center space-x-4">
            <!-- 로고 및 홈 링크 -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" class="h-8 w-8 text-white" viewBox="0 0 24 24">
                <path d="M5 12s2.545-5 7-5 7 5 7 5-2.546 5-7 5c-4.455 0-7-5-7-5z"></path>
                <path d="M12 13a1 1 0 100-2 1 1 0 000 2z"></path>
                <path d="M21 17v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2"></path>
                <path d="M21 7V5a2 2 0 00-2-2H5a2 2 0 00-2 2v2"></path>
            </svg>
            <h1>
                <a class="text-xl font-bold text-white" href="/main/main/">MediView</a>
            </h1>
        </div>
        <!-- 내비게이션 링크 -->
        <nav class="flex items-center space-x-6">
            <a class="text-sm font-medium text-white hover:underline" href="#">기능1</a>
            <a class="text-sm font-medium text-white hover:underline" href="#">기능2</a>
            <a class="text-sm font-medium text-white hover:underline" href="#">기능3</a>
            <a class="text-sm font-medium text-white hover:underline" href="/posts/ask/">문의사항</a>
        </nav>
        <!-- 사용자 메뉴 -->
        <div class="flex items-center space-x-4">
            <div class="relative">
                <button id="userMenuButton" class="flex items-center space-x-2 bg-[#4f46e5] text-white px-4 py-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4f46e5]" aria-haspopup="true" onclick="toggleDropdown()">
                    <span>{{ user.username }}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="ml-2 h-4 w-4" viewBox="0 0 24 24">
                        <path d="M6 9l6 6 6-6"></path>
                    </svg>
                </button>
                <div id="userMenuDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 hidden">
                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
                    <a href="/users/logout/" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
                </div>
            </div>
        </div>
    </header>
    <!-- 메인 컨텐츠 영역 -->
    <div class="flex h-screen w-full items-center justify-center bg-[#f0f4ff] dark:bg-[#0f172a]">
        <form method="POST" action="{% url 'post_add' %}" class="bg-white shadow-lg rounded-lg p-6 w-full max-w-xl">
            {% csrf_token %}
            <!-- 폼 필드들 직접 렌더링 -->
            <div class="mb-4">
                <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
                <input type="text" name="title" id="title" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
            </div>
            <div class="mb-4">
                <label for="content" class="block text-sm font-medium text-gray-700">Content</label>
                <textarea name="content" id="content" rows="4" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required></textarea>
            </div>
            <button type="submit" class="inline-flex items-center justify-center w-full text-white bg-[#4f46e5] px-4 py-2 rounded-md hover:bg-[#3730a3] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4f46e5]">
                게시
            </button>
        </form>
    </div>
</div>

<script>
    function toggleDropdown() {
        var dropdown = document.getElementById('userMenuDropdown');
        var isVisible = dropdown.style.display === 'block';
        dropdown.style.display = isVisible ? 'none' : 'block';
    }
</script>
